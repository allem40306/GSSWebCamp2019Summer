@model Course04.Models.Book
@{
    ViewBag.Title = "書籍資訊";
}


<h2>書籍資訊</h2>

<div id="result_grid"></div>

<script>

    function query_string(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split("=");
            if (pair[0] == variable) { return pair[1]; }
        }
        return (false);
    }
    $(document).ready(function () {
        //Getting the parameter-
        var BookID = query_string('BookID');
        var searchArg = {
            "BookID": query_string('BookID')
        };
        var grid = $("#result_grid").kendoGrid({
            dataSource: {
                transport: {
                    read: {
                        data: searchArg,
                        url: "PresentBook",
                        method: "post",
                        datatype: "json"
                    }
                },
                schema: {
                    model: {
                        fields: {
                            BookID: { type: "string" },
                            BookName: { type: "string" },
                            BookAuthor: { type: "string" },
                            BookPublisher: { type: "string" },
                            BookNote: { type: "string" },
                            BuyDate: { type: "string" },
                            BookClass: { type: "string" },
                            BookStatus: { type: "string" },
                            Keeper: { type: "string" },
                        }
                    }
                },
                pagesize: 20,
            },
            height: 550,
            sortable: true,
            pageable: {
                input: true,
                numeric: false
            },
            columns: [
                { field: "BookID", title: "流水號", width: "10%" },
                { field: "BookName", title: "書名", width: "10%" },
                { field: "BookClass", title: "圖書類別", width: "10%" },
                { field: "BookAuthor", title: "作者", width: "15%" },
                { field: "BuyDate", title: "購買日期", width: "15%" },
                { field: "BookStatus", title: "借閱狀態", width: "15%" },
                { field: "Keeper", title: "借閱人", width: "15%" },
            ]
        });
    });

</script>